<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>–ú–æ–µ–π –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–µ ‚ù§Ô∏è</title>
    <style>
        body {
            margin: 0; height: 100vh; display: flex; justify-content: center; align-items: center;
            background: #ffe6e6; font-family: 'Segoe UI', Tahoma, sans-serif; overflow: hidden; text-align: center;
            touch-action: none; /* –í–∞–∂–Ω–æ –¥–ª—è —à–ª–µ–π—Ñ–∞ –Ω–∞ iPhone */
        }
        .container {
            background: white; padding: 30px; border-radius: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 85%; max-width: 400px; z-index: 10;
            position: relative;
        }
        .heart { font-size: 60px; margin-bottom: 10px; pointer-events: none; }
        h1 { color: #ff4757; font-size: 22px; margin-bottom: 20px; pointer-events: none; }
        
        .btns { display: flex; justify-content: center; gap: 15px; align-items: center; min-height: 120px; }
        
        button { 
            padding: 15px 25px; border: none; border-radius: 50px; 
            cursor: pointer; font-weight: bold; font-size: 18px; 
            touch-action: manipulation;
        }
        #yesBtn { background: #2ed573; color: white; position: relative; z-index: 1000; transition: transform 0.2s; }
        #noBtn { background: #ff4757; color: white; position: relative; z-index: 100; }

        #myPhoto {
            width: 150px; height: 150px; margin: 10px auto;
            border-radius: 50%; border: 4px solid #ff4757;
            display: none; object-fit: cover;
        }

        /* –°—Ç–∏–ª—å –¥–ª—è —à–ª–µ–π—Ñ–∞ */
        .cursor-heart {
            position: absolute; color: #ff4757; pointer-events: none;
            font-size: 20px; z-index: 9999;
            animation: fadeUp 1s ease-out forwards;
        }
        @keyframes fadeUp {
            0% { opacity: 1; transform: translate(0, 0) scale(1); }
            100% { opacity: 0; transform: translate(var(--side), -100px) scale(0.5); }
        }
        .hidden { display: none; }
    </style>
</head>
<body>

    <audio id="audio" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <div class="container">
        <div id="emoji" class="heart">‚ù§Ô∏è</div>
        
        <div id="questionArea">
            <h1>–û–∫–∞–∂–µ—Ç–µ –ª–∏ –≤—ã –º–Ω–µ —á–µ—Å—Ç—å —Å—Ç–∞—Ç—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π –∏ –≤–ª–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–∏—Ü–æ–π —Å–µ—Ä–¥—Ü–∞?</h1>
            <div class="btns">
                <button id="yesBtn">–î–∞</button>
                <button id="noBtn">–ù–µ—Ç</button>
            </div>
        </div>

        <div id="successArea" class="hidden">
            <img src="photo.jpg" id="myPhoto" alt="Love">
            <h1 style="font-size: 28px;">–î–ñ–ê–ê–ê–ê–ê–ù ü•∞</h1>
            <p>–¢—ã –ª—É—á—à–µ –≤—Å–µ—Ö –≤–æ –≤—Å–µ–ª–µ–Ω–Ω–æ–π –∏ —Å–∞–º–æ–µ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–µ, —á—Ç–æ –µ—Å—Ç—å –≤ –º–æ–µ–π –∂–∏–∑–Ω–∏ –í–∞–º–ø–∏—Ä—à–∞ –º–æ—è)!</p>
            <p style="color: #ff4757; font-weight: bold;">–°–ò–†–£–ú–ï–ú –ö–ï–ó –ö–Ø–ù–ö–°! ‚ù§Ô∏è</p>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <script>
        var scale = 1;
        const yesBtn = document.getElementById('yesBtn');
        const noBtn = document.getElementById('noBtn');
        const emoji = document.getElementById('emoji');
        const audio = document.getElementById('audio');

        // –õ–æ–≥–∏–∫–∞ —à–ª–µ–π—Ñ–∞
        function spawnHeart(x, y) {
            const h = document.createElement('div');
            h.className = 'cursor-heart';
            h.innerHTML = '‚ù§Ô∏è';
            h.style.left = x + 'px';
            h.style.top = y + 'px';
            h.style.setProperty('--side', ((Math.random() - 0.5) * 50) + 'px');
            document.body.appendChild(h);
            setTimeout(() => h.remove(), 1000);
        }

        document.addEventListener('mousemove', (e) => spawnHeart(e.pageX, e.pageY));
        document.addEventListener('touchmove', (e) => {
            spawnHeart(e.touches[0].pageX, e.touches[0].pageY);
        }, {passive: true});

// –õ–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–æ–∫
        noBtn.onclick = function() {
            scale += 0.6;
            yesBtn.style.transform = "scale(" + scale + ")";
            noBtn.innerText = "–¢–æ—á–Ω–æ?";
            emoji.innerText = "üò¢";
        };

        yesBtn.onclick = function() {
            document.getElementById('questionArea').style.display = "none";
            document.getElementById('successArea').classList.remove('hidden');
            document.getElementById('myPhoto').style.display = "block";
            emoji.innerText = "üíñ";
            
            // –ü—ã—Ç–∞–µ–º—Å—è –≤–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É
            audio.play().catch(() => console.log("–ú—É–∑—ã–∫–∞ –∂–¥–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è"));

            // –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
            if (window.confetti) {
                confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
            }
        };
    </script>
</body>
</html>
